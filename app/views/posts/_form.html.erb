<div class="howto">

<!-- model:postの解説 -->
<!-- post = @post、　またpostがnilのときはcreateアクションに、そうでないときはeditアクションに勝手に推測して飛ばす -->
<%= form_with(model: post, local: true) do |form| %>
  <% if post.errors.any? %>
    <div id="error_explanation">
      <h2><%= pluralize(post.errors.count, "error") %> prohibited this post from being saved:</h2>
      <ul>
      <% post.errors.full_messages.each do |message| %>
        <li><%= message %></li>
      <% end %>
      </ul>
    </div>
  <% end %>


<div class="steps">
  <div class="step1", id="animation3">
    <div class="text-bar">
      <h1>フレーム選択</h1>
    </div>
    <!-- 背景画像はラジオボタンで選択形式 -->
    <div class="img">
        <label class="frame"><%= form.radio_button :kind, "black" %><%= image_tag 'black.jpg', width: '80%'%></label>
        <label class="frame"><%= form.radio_button :kind, "red" %><%= image_tag 'red.jpg', width: '80%'%></label>
    </div>
  </div>


  <div class="step2", id="animation4">
    <div class="text-bar">
      <h1>メッセージ入力</h1>
    </div>
    <%= form.text_area :content, size: "50x10", class:'form-control', rows:"3" %>
  </div>

  <div class="actions", id="animation4">
    <%= form.submit "画像を確認する（まだツイートされません）", id: 'submit', class:"square_btn" %>
  </div>
</div>

<% end %>
</div>


<footer>
  <%= link_to "プライバシーポリシー", privacy_path%>
</footer>

<script type="text/javascript">
$('#animation3').css('visibility','hidden');
$(window).scroll(function(){
 var windowHeight = $(window).height(),
     topWindow = $(window).scrollTop();
 $('#animation3').each(function(){
  var targetPosition = $(this).offset().top;
  if(topWindow > targetPosition - windowHeight + 100){
   $(this).addClass("fadeInDown");
  }
 });
});

$('#animation4').css('visibility','hidden');
$(window).scroll(function(){
 var windowHeight = $(window).height(),
     topWindow = $(window).scrollTop();
 $('#animation4').each(function(){
  var targetPosition = $(this).offset().top;
  if(topWindow > targetPosition - windowHeight + 100){
   $(this).addClass("fadeInDown");
  }
 });
});
</script>
